<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    @*<meta name="viewport" content="width=device-width" />*@
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>@ViewBag.Title</title>

    <link rel="preload" href="~/Content/Theme1/images/logo.png" as="image">
    <link rel='shortcut icon' href="~/Content/Theme1/images/logo.png" />
    <link href="https://fonts.googleapis.com/css?family=Athiti:400,600,700|Montez&display=swap" rel="stylesheet">

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/modernizr")


</head>
<body>
    @Html.Partial("_Header")

    <header>
        <div class="header-bottom" id="BindCatagory">
            @*@Html.Action("BindCategories", "Home")*@
        </div>
    </header>


    <div>
        @RenderBody()
    </div>
    @Html.Partial("_Footer");

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)

    <script>
        $(document).ready(function(){
            //Load Category
             var BindCatagoryDiv = $("#BindCatagory");
             $.ajax({
                 cache: false,
                 type: "GET",
                 url: "@(Url.Action("BindCategories","Common"))",
                //data: { "id": id },
                success: function (data)
                {

                    BindCatagoryDiv.html('');
                    BindCatagoryDiv.html(data);
                },
                error: function (xhr, ajaxOptions, thrownError)
                {
                    alert('Failed to retrieve category.');
                }
            });
        });


        $(document).ready(function () {
			$('nav>ul.navigation>li>a').click(function(){
				$(this).siblings('.full-page-menu').addClass('active');
			});
			$('.close-popup').click(function(){
				$(this).parents('.full-page-menu').removeClass('active');
			});
        })

        $(document).ready(function () {
       $("#ProductSearchBox").autocomplete({
           source: function(request,response) {
               $.ajax({
                   url: "/api/Search",
                   type: "GET",
                   dataType: "json",
                   data: { searchText: request.term },
                   success: function (data) {
                       response($.map(data, function (item) {
                           return { label: item.title, value: item.title};
                       }))

                   }
               })
           },
           messages: {
               noResults: "", results: ""
           }
       });
   })
    </script>
</body>
</html>
